{% macro alert(tipo='info', mensagem='Tudo certo!') -%}
<div class="alert alert-{{ tipo }} my-2" role="alert">{{ mensagem }}</div>
{%- endmacro %}

{% macro card_operacao(par='BTC/USDT', preco='-', direcao='NEUTRO', status='aguardando', extra=None) -%}
<div class="card h-100">
  <div class="card-body">
    <h5 class="card-title">{{ par }}</h5>
    <p class="card-text mb-1"><strong>Preço:</strong> {{ preco }}</p>
    <p class="card-text mb-1"><strong>Direção:</strong> {{ direcao }}</p>
    <p class="card-text"><strong>Status:</strong> {{ status }}</p>
    {% if extra %}<div class="small text-muted">{{ extra }}</div>{% endif %}
  </div>
</div>
{%- endmacro %}

{% macro tabela_operacoes(ops=[]) -%}
<table class="table table-striped table-sm align-middle">
  <thead>
    <tr><th>#</th><th>Par</th><th>Tipo</th><th>Preço</th><th>Qtd</th><th>Status</th><th>Atualizado</th></tr>
  </thead>
  <tbody>
  {% for o in ops %}
    <tr>
      <td>{{ loop.index }}</td>
      <td>{{ o.par }}</td>
      <td>{{ o.tipo or o.direcao }}</td>
      <td>{{ o.preco }}</td>
      <td>{{ o.qtd or '-' }}</td>
      <td>{{ o.status }}</td>
      <td>{{ o.atualizado_em or '-' }}</td>
    </tr>
  {% else %}
    <tr><td colspan="7" class="text-center text-muted">Sem operações.</td></tr>
  {% endfor %}
  </tbody>
</table>
{%- endmacro %}