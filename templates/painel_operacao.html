{% extends 'base.html' %}

{% block title %}Painel de Operação - ClaraVerse{% endblock %}

{% block content %}
<h2 class="mt-5">Painel de Operação</h2>
<div>
    <h3>Dados do Usuário</h3>
    <p>Usuário: {{ user.username }}</p>
    <p>Email: {{ user.email }}</p>
    <p>Saldo Simulado: R$ {{ user.saldo_simulado }}</p>
    <p>Lucro/Perda: R$ {{ user.profit_loss }}</p>
</div>

<h3 class="mt-4">Tabela de Criptomoedas</h3>
<table id="crypto-table" class="table table-dark">
    <thead>
        <tr>
            <th>Símbolo</th>
            <th>Preço</th>
            <th>Quantidade</th>
            <th>Lucro/Perda</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<h3 class="mt-4">Tabela do Mercado Brasileiro</h3>
<table id="br-table" class="table table-dark">
    <thead>
        <tr>
            <th>Índice</th>
            <th>Preço</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<h3 class="mt-4">Análise Inteligente</h3>
<form id="analyze-form">
    <div class="mb-3">
        <label for="symbol" class="form-label">Símbolo</label>
        <input type="text" class="form-control" id="symbol" name="symbol" required>
    </div>
    <button type="submit" class="btn btn-primary">Analisar</button>
</form>

<h3 class="mt-4">Resultado da Análise</h3>
<pre id="analysis-output"></pre>

<h3 class="mt-4">Executar Trade</h3>
<form id="trade-form">
    <div class="mb-3">
        <label for="trade-symbol" class="form-label">Símbolo</label>
        <input type="text" class="form-control" id="trade-symbol" name="symbol" required>
    </div>
    <div class="mb-3">
        <label for="side" class="form-label">Lado</label>
        <select class="form-select" id="side" name="side" required>
            <option value="BUY">Comprar</option>
            <option value="SELL">Vender</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="quantity" class="form-label">Quantidade</label>
        <input type="number" class="form-control" id="quantity" name="quantity" required>
    </div>
    <button type="submit" class="btn btn-primary">Executar Trade</button>
</form>
{% endblock %}