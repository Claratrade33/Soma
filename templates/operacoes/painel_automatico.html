{% extends "base.html" %}
{% from 'componentes/macros.html' import alert, card_operacao, tabela_operacoes %}
{% block title %}Painel Automático — Operações{% endblock %}
{% block content %}
  <h2 class="mb-3">Painel Automático</h2>
  {{ alert('info', status_msg|default('Configure e inicie o robô quando estiver pronta.')) }}
  <section class="mb-4">
    <h5>Status do Robô</h5>
    <ul class="mb-2">
      <li>Rodando: <strong>{{ robo_status|default('desconhecido') }}</strong></li>
      <li>Par: <strong>{{ par|default('BTC/USDT') }}</strong></li>
      <li>Timeframe: <strong>{{ timeframe|default('15m') }}</strong></li>
      <li>Estratégia: <strong>{{ estrategia|default('Padrão') }}</strong></li>
    </ul>
    <div class="d-flex gap-2">
      <button class="btn btn-primary">Iniciar</button>
      <button class="btn btn-warning">Pausar</button>
      <button class="btn btn-danger">Parar</button>
    </div>
  </section>
  <section class="mb-4">
    <h5>Operações Recentes</h5>
    <div class="row row-cols-1 row-cols-md-3 g-3">
      {% for o in ops %}
      <div class="col">{{ card_operacao(o.par, o.preco, o.direcao, o.status, o.extra) }}</div>
      {% endfor %}
    </div>
  </section>
  <section class="mb-3">
    <h5>Tabela de Operações</h5>
    {{ tabela_operacoes(ops) }}
  </section>
{% endblock %}