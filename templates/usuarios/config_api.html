{% extends "base.html" %}
{% block title %}Configurar API da Corretora{% endblock %}
{% block content %}
  <h2>Configurar API — {{ exchange|default('binance')|capitalize }}</h2>
  <form method="post" class="mt-3" style="max-width:520px">
    <div class="mb-2">
      <label class="form-label">Corretora</label>
      <select name="exchange" class="form-select">
        <option value="binance" selected>Binance</option>
      </select>
    </div>
    <div class="mb-2">
      <label class="form-label">API Key</label>
      <input name="api_key" class="form-control" required>
    </div>
    <div class="mb-2">
      <label class="form-label">API Secret</label>
      <input name="api_secret" class="form-control" required>
    </div>
    <button class="btn btn-primary mt-2">Salvar</button>
    {% if has_cred %}
      <a class="btn btn-outline-secondary mt-2" href="{{ url_for('usuario_api.testar_api', exchange=exchange or 'binance') }}">Testar Conexão</a>
    {% endif %}
  </form>
{% endblock %}